{"version":3,"file":"static/js/859.7ca7b771.chunk.js","mappings":"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","sources":["helpers/createPrices.js","components/Filter/Filter.styled.jsx","components/Filter/Filter.jsx","pages/Catalog.jsx","helpers/filteredCars.js"],"sourcesContent":["export const createPrices = () => {\n  const options = [];\n  options.push(\n    <option key={1} value=\"\">\n      To $\n    </option>\n  );\n  for (let i = 10; i <= 500; i += 10) {\n    options.push(\n      <option key={i} value={i}>\n        {i}\n      </option>\n    );\n  }\n  return options;\n};\n","import styled from '@emotion/styled';\n\nexport const Form = styled.form`\n  display: flex;\n  align-items: flex-end;\n  margin-bottom: 50px;\n`;\n\nexport const SelectPrice = styled.select`\n  width: 125px;\n  margin-right: 18px;\n  height: 48px;\n  background-color: var(--form-bg);\n  border-radius: 14px;\n  border-color: transparent;\n  font-size: 18px;\n  font-weight: 500;\n  padding: 14px 18px;\n`;\n\nexport const SelectBrand = styled.select`\n  width: 224px;\n  margin-right: 18px;\n  height: 48px;\n  background-color: var(--form-bg);\n  border-radius: 14px;\n  border-color: transparent;\n  font-size: 18px;\n  font-weight: 500;\n  padding: 14px 18px;\n`;\n\nexport const LabelBlock = styled.div`\n  display: flex;\n  flex-direction: column;\n  > label {\n    font-size: 18px;\n    color: var(--label-color);\n  }\n`;\nexport const InputFrom = styled.input`\n  width: 128px;\n  height: 42px;\n  background-color: var(--form-bg);\n  font-size: 18px;\n  border-top-left-radius: 14px;\n  border-bottom-left-radius: 14px;\n  padding-left: 24px;\n  border-left-color: transparent;\n  border-top-color: transparent;\n  border-bottom-color: transparent;\n  border-right-color: 1px solid rgba(138, 138, 137, 0.2);\n`;\n\nexport const InputTo = styled.input`\n  width: 128px;\n  height: 42px;\n  background-color: var(--form-bg);\n  font-size: 18px;\n  border-top-right-radius: 14px;\n  border-bottom-right-radius: 14px;\n  border-color: transparent;\n  padding-left: 24px;\n`;\n\nexport const Button = styled.button`\n  width: 136px;\n  height: 48px;\n  background-color: var(--button-color);\n  font-size: 14px;\n  border-radius: 12px;\n  border-color: transparent;\n  color: var(--button-text-color);\n  margin-left: 18px;\n  &:hover {\n    background-color: var(--button-hover-color);\n  }\n`;\n","import { useForm } from 'react-hook-form';\nimport brands from '../../makes.json';\nimport { createPrices } from 'helpers/createPrices';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addFilter } from 'redux/adverts/advertsSlice';\nimport {\n  Form,\n  SelectPrice,\n  SelectBrand,\n  LabelBlock,\n  InputFrom,\n  InputTo,\n  Button,\n} from 'components/Filter/Filter.styled';\n\nimport { selectAdverts } from 'redux/adverts/selectors';\nimport { getAllAdverts } from 'redux/adverts/operationsAdverts';\n\nexport const Filter = () => {\n  const { allAdverts } = useSelector(selectAdverts);\n  createPrices();\n  const dispatch = useDispatch();\n  const options = createPrices();\n  const {\n    register,\n    handleSubmit,\n\n    reset,\n  } = useForm({\n    defaultValues: { price: '' },\n  });\n\n  return (\n    <>\n      <Form\n        onSubmit={handleSubmit(data => {\n          const { price, brand, from, to } = data;\n          if (price === '' || brand === '' || from === '' || to === '') {\n            return alert('All fields must be completed');\n          }\n          dispatch(addFilter(data));\n          reset();\n        })}\n      >\n        <LabelBlock>\n          <label htmlFor=\"brand\">Car brand</label>\n          <SelectBrand {...register('brand')}>\n            <option key={1} value=\"\">\n              Enter the text\n            </option>\n\n            {brands.map(value => (\n              <option key={value} value={value}>\n                {value}\n              </option>\n            ))}\n          </SelectBrand>\n        </LabelBlock>\n        <LabelBlock>\n          <label htmlFor=\"price\">Price/ 1 hour</label>\n          <SelectPrice {...register('price')}>{options}</SelectPrice>\n        </LabelBlock>\n        <LabelBlock>\n          <label htmlFor=\"from\">Ð¡ar mileage / km</label>\n          <InputFrom\n            type=\"number\"\n            {...register('from')}\n            id=\"mile1\"\n            min={0}\n            max={5000}\n            placeholder=\"From\"\n          />\n        </LabelBlock>\n\n        <InputTo\n          type=\"number\"\n          {...register('to')}\n          id=\"mile2\"\n          min={0}\n          max={10000}\n          placeholder=\"To\"\n        />\n\n        <Button\n          type=\"submit\"\n          onClick={() => {\n            if (allAdverts.length === 0) {\n              dispatch(getAllAdverts());\n            }\n          }}\n        >\n          Search\n        </Button>\n      </Form>\n    </>\n  );\n};\n","import { useDispatch, useSelector } from 'react-redux';\nimport { useEffect, useRef, useState } from 'react';\nimport { getAdverts } from 'redux/adverts/operationsAdverts';\nimport { AdvertsList } from 'components/AdvertsList/AdvertsList';\nimport { selectAdverts } from 'redux/adverts/selectors';\nimport { clearItems } from 'redux/adverts/advertsSlice';\nimport { Filter } from 'components/Filter/Filter';\nimport { filteredCars } from 'helpers/filteredCars';\n\nconst CatalogPage = () => {\n  const [page, setPage] = useState(1);\n  const dispatch = useDispatch();\n  const valueRef = useRef(true);\n\n  const { items, filter, allAdverts } = useSelector(selectAdverts);\n\n  const loadMore = () => {\n    setPage(prevPage => prevPage + 1);\n    valueRef.current = true;\n  };\n\n  useEffect(() => {\n    if (valueRef.current) {\n      dispatch(getAdverts(page));\n      valueRef.current = false;\n    }\n  }, [dispatch, page]);\n\n  useEffect(() => {\n    return () => {\n      dispatch(clearItems());\n    };\n  }, [dispatch]);\n\n  let cars = filteredCars(filter, items, allAdverts);\n\n  return (\n    <>\n      <Filter />\n      {cars && <AdvertsList adverts={cars} loadMore={loadMore} />}\n    </>\n  );\n};\n\nexport default CatalogPage;\n","export const filteredCars = (filter, items, allAdverts) => {\n  if (filter === null) {\n    return items;\n  }\n  let cars = null;\n\n  cars = allAdverts.filter(item => item.make === filter.brand);\n  cars = cars.filter(item => {\n    const numberRentalPrice = parseFloat(\n      item.rentalPrice.replace(/[^0-9.-]+/g, '')\n    );\n\n    return numberRentalPrice <= Number(filter.price);\n  });\n  cars = cars.filter(item => {\n    return (\n      Number(item.mileage) >= Number(filter.from) &&\n      Number(item.mileage) <= Number(filter.to)\n    );\n  });\n\n  return cars;\n};\n"],"names":["createPrices","options","push","_jsx","value","children","i","Form","styled","form","_templateObject","_taggedTemplateLiteral","SelectPrice","select","_templateObject2","SelectBrand","_templateObject3","LabelBlock","div","_templateObject4","InputFrom","input","_templateObject5","InputTo","_templateObject6","Button","button","_templateObject7","Filter","allAdverts","useSelector","selectAdverts","dispatch","useDispatch","_useForm","useForm","defaultValues","price","register","handleSubmit","reset","_Fragment","_jsxs","onSubmit","data","brand","from","to","alert","addFilter","htmlFor","_objectSpread","brands","map","type","id","min","max","placeholder","onClick","length","getAllAdverts","_useState","useState","_useState2","_slicedToArray","page","setPage","valueRef","useRef","_useSelector","items","filter","useEffect","current","getAdverts","clearItems","cars","item","make","parseFloat","rentalPrice","replace","Number","mileage","filteredCars","AdvertsList","adverts","loadMore","prevPage"],"sourceRoot":""}